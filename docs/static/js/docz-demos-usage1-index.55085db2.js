(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./docz/demos/usage1/index.mdx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("./node_modules/react/index.js"),a=n("./node_modules/@mdx-js/react/dist/index.es.js"),i=n("./node_modules/docz/dist/index.esm.js"),l=n("../editor/node_modules/codemirror/lib/codemirror.js"),c=n.n(l),s=(n("../editor/node_modules/codemirror/lib/codemirror.css"),n("../editor/node_modules/codemirror/addon/scroll/simplescrollbars.css"),function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}),u=0;function d(e,t){var n=document.createElement("span");return n.innerHTML=e,t&&t.split(" ").forEach(function(e){e&&n.classList.add(e)}),n}n("../editor/node_modules/codemirror/addon/scroll/simplescrollbars.js");var p=function(){function e(e,t){this.options=t;var n,r,o=(n={placeholders:t.placeholders},r="Template-Editor-"+ ++u+"-"+Date.now(),c.a.defineMode(r,function(){function e(e,t){var r,o;t.line=e.lineOracle.line;try{for(var a=s(n.placeholders),i=a.next();!i.done;i=a.next()){var l=i.value;if(e.match(l.matchRegexp,!1)){var c=l.consumeRegexp||l.matchRegexp,u=e.match(c);return t.placeholder=l,t.matchedValue=u[1],l.type}}}catch(d){r={error:d}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return e.next(),null}return{startState:function(){return{tokenize:e,context:null}},token:function(t,n){return n.tokenize===e&&t.eatSpace()?(n.placeholder=void 0,n.matchedValue=void 0,null):n.tokenize(t,n)}}}),r),a=!("lineWrapping"in t)||!!t.lineWrapping;this.instance=c()(e,{mode:o,lineWrapping:a,scrollbarStyle:"simple",readOnly:t.disabled,value:t.initialValue||"",placeholder:t.placeholder}),this.replaceVariables(),this.listenContentChange()}return e.prototype.listenContentChange=function(){var e=this;this.instance.on("change",function(){e.replaceVariables()})},e.prototype.replaceVariables=function(){var e=this.options.createReplacementNode,t=this.instance.getDoc();t.getAllMarks().forEach(function(e){e.clear()}),this.getTokens().forEach(function(n){if(n&&n.type&&n.state&&n.state.placeholder){var r=n.state.line,o={line:r,ch:n.start},a={line:r,ch:n.end},i=n.state.placeholder,l=n.state.matchedValue,c=e?e(i,l,n.string):d(i&&i.hasOwnProperty("text")?"string"===typeof i.text?i.text:i.text(l):l,i&&i.hasOwnProperty("className")?i.className:"cm-variable");t.markText(o,a,{replacedWith:c})}})},e.prototype.getTokens=function(){var e=this,t=[];return this.instance.getDoc().eachLine(function(n){e.instance.getLineTokens(n.lineNo()).forEach(function(e){return t.push(e)})}),t},e.prototype.getValue=function(){return this.instance.getDoc().getValue()},e.prototype.setValue=function(e){this.instance.getDoc().setValue(e)},e.prototype.onChange=function(e){var t=this;this.instance.on("change",function(){e(t.getValue())})},e}(),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},h=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},b=o.forwardRef(function(e,t){var n=e.value,r=void 0===n?"":n,a=(e.disabled,e.placeholder,e.placeholders),i=e.createReplacementNode,l=e.onChange,c=m(e,["value","disabled","placeholder","placeholders","createReplacementNode","onChange"]),s=o.useRef(null),u=h(o.useState(),2),d=u[0],b=u[1];return o.useEffect(function(){b(new p(s.current,{initialValue:r,placeholders:a,createReplacementNode:i}))},[]),o.useEffect(function(){l&&d.onChange(function(e){var t=d.getTokens();l(e,t)})},[]),o.useEffect(function(){d&&d.setValue(e.value)},[e.value]),o.useImperativeHandle(t,function(){return{forceUpdateEditor:function(){d.setValue(e.value+" "),setTimeout(function(){d.setValue(e.value)},0)}}}),o.createElement("div",f({ref:s},c))});"undefined"!==typeof b&&b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReactTemplateEditor",filename:"src\\index.tsx"}});var y=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},v=[{type:"variable",matchRegexp:/^\{\{(123)\}\}/,className:"cm-keyword",text:"nickname"}];function g(){var e=o.useRef(null),t=y(o.useState("{{123}} {{124}}"),1)[0],n=y(o.useState(v),1)[0];return o.useEffect(function(){setTimeout(function(){v.push({type:"variable",matchRegexp:/^\{\{(124)\}\}/,className:"cm-keyword",text:"age"}),e.current.forceUpdateEditor()},2e3)},[]),o.createElement(b,{ref:e,value:t,placeholders:n,className:"editor-instance"})}g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReactTemplateEditorWrapper",filename:"docz\\demos\\usage1\\index.tsx"}}),n.d(t,"default",function(){return j});var x={},O="wrapper";function j(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)(O,Object.assign({},x,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"usage"},"Usage"),Object(a.b)(i.c,{__position:0,__code:"<ReactTemplateEditorWrapper />",__scope:{props:this?this.props:n,Playground:i.c,ReactTemplateEditorWrapper:g},__codesandbox:"undefined",mdxType:"Playground"},Object(a.b)(g,{mdxType:"ReactTemplateEditorWrapper"})))}j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docz\\demos\\usage1\\index.mdx"}}),j.isMDXComponent=!0}}]);
//# sourceMappingURL=docz-demos-usage1-index.76943fd9dd1e497d3e70.js.map