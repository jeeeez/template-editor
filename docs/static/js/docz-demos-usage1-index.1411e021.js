(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./docz/demos/usage1/index.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=(n("./node_modules/react/index.js"),n("./node_modules/@mdx-js/react/dist/index.es.js")),a=n("./node_modules/docz/dist/index.esm.js"),l=n("./src/index.tsx"),i={},c="wrapper";function s(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)(c,Object.assign({},i,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"usage1"},"Usage1"),Object(r.b)(a.c,{__position:0,__code:"<ReactTemplateEditor\n  value=\"Hello {{nickname}}\"\n  placeholder=\"Please input your message\"\n  placeholders={[\n    {\n      type: 'variable',\n      matchRegexp: /^\\{\\{(nickname)\\}\\}/,\n      className: 'cm-keyword',\n      text: 'Peter',\n    },\n    {\n      type: 'variable',\n      matchRegexp: /^\\{\\{(.*)\\}\\}/,\n      className: 'cm-keyword',\n      text: 'Unknown Variable',\n    },\n  ]}\n/>",__scope:{props:this?this.props:n,Playground:a.c,ReactTemplateEditor:l.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSD2EDSVLBgH0sjPLshVQ9DZXaAABWgyNoc1sheIVJFNSVJFUbAcAIOAsFwiDCM1GiTU1dowVQXQUWOU4sOcAhEixdhuHYYB1iiARnlQK52gABnYJMZkEvdqxmDsWBnPSABYTPYAA2Ez2jMiwwGAgAxb1oESPT-GcQ4EQdTAYKEfgliIahKDgCyERc9Z3JoZwICwy52AARhssz5CkmSpgAQTmVT2AjKDyBsKB0DDVCOVUsQSujGR2BRZSYG4YBsMU1q4HkLca2AcroCq4IADIRvGRJ5koZpBsq6ruAWuUwGQyUBlQdp2AAfg2IawwjWqrlm4bUBy6spBkKs3zMGF1WOGAwDCKApn2uqGrOwrl2rBMiIIHAPMyFIrwIPqa1rH6SKYmAKLYgQV1B1h4gZPgQAACXnKBh2AYBUFibZUG9GB5BykA4ZrMkJRgYZKoyZHYPFOBujQGZwkhI4jzgCo0n4UmLHJhEqanOB2oAbR5_qxdBpT5j0hH-lcDxfVc0HlYsKICHKsU0iwGYrkkAA9XheA0o2IxxnZ8aPLleBy63JCVlXQfIOCOYAOQJvTyCIc1thgRIRiFdB4q-h2LFoLACD06DRwyIOQ4sJQJfUxPQ8mtL2lliB5cV5P2DVjWYC1nX2H1w3jeACMcCMK2bfkO2c6d_w4Ddo8Pa9n2_YD2O49D7AI7lABVVA8dGcwADVXDlhWYC7kOE-D0GAF1TpVzcVykH6_oBoG-qkD7LrML8QFi7ZXDSf84GoQDdBAgwwI06t-AtxkkHYfgfmLaoMhYrBvTJZ-lf4KwDI-RqD8CuPwfSOBIH6XCusfg5RyD9BmN2f0L9-D5WanhWA0If6_jumSSgiRcx5AKBOTU5p35_FLLAh-IAohoDAa_FQ4YNBwBoRYeBMB5jhmkhAeAjD76g3gfJRh_A9bpRwAAJigewms_BOKiDQSAcRDkcAAA4cAOVkRwwQ5CrSiOUelVRGitEk2rKdeQh8P7eA-NQSAKRz6X20NffQDANIgEYuTWgYC36mmYgo80swZj8EsUTeQQA",mdxType:"Playground"},Object(r.b)(l.a,{value:"Hello {{nickname}}",placeholder:"Please input your message",placeholders:[{type:"variable",matchRegexp:/^\{\{(nickname)\}\}/,className:"cm-keyword",text:"Peter"},{type:"variable",matchRegexp:/^\{\{(.*)\}\}/,className:"cm-keyword",text:"Unknown Variable"}],mdxType:"ReactTemplateEditor"})))}s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docz\\demos\\usage1\\index.mdx"}}),s.isMDXComponent=!0},"./src/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n("../editor/node_modules/codemirror/lib/codemirror.js"),a=n.n(r),l=(n("../editor/node_modules/codemirror/lib/codemirror.css"),n("../editor/node_modules/codemirror/addon/scroll/simplescrollbars.css"),function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}),i=0;function c(e,t){var n=document.createElement("span");return n.innerHTML=e,t&&t.split(" ").forEach(function(e){e&&n.classList.add(e)}),n}n("../editor/node_modules/codemirror/addon/scroll/simplescrollbars.js"),n("../editor/node_modules/codemirror/addon/display/placeholder.js");var s=function(){function e(e,t){this.options=t;var n,o,r=(n={placeholders:t.placeholders},o="Template-Editor-"+ ++i+"-"+Date.now(),a.a.defineMode(o,function(){function e(e,t){var o,r;t.line=e.lineOracle.line;try{for(var a=l(n.placeholders),i=a.next();!i.done;i=a.next()){var c=i.value;if(e.match(c.matchRegexp,!1)){var s=c.consumeRegexp||c.matchRegexp,d=e.match(s);return t.placeholder=c,t.matchedValue=d[1],c.type}}}catch(u){o={error:u}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return e.next(),null}return{startState:function(){return{tokenize:e,context:null}},token:function(t,n){return n.tokenize===e&&t.eatSpace()?(n.placeholder=void 0,n.matchedValue=void 0,null):n.tokenize(t,n)}}}),o),c=!("lineWrapping"in t)||!!t.lineWrapping;this.instance=a()(e,{mode:r,lineWrapping:c,scrollbarStyle:"simple",readOnly:t.disabled,value:t.initialValue||"",placeholder:t.placeholder}),this.replaceVariables(),this.listenContentChange()}return e.prototype.listenContentChange=function(){var e=this;this.instance.on("change",function(){e.replaceVariables()})},e.prototype.replaceVariables=function(){var e=this.options.createReplacementNode,t=this.instance.getDoc();t.getAllMarks().forEach(function(e){e.clear()}),this.getTokens().forEach(function(n){if(n&&n.type&&n.state&&n.state.placeholder){var o=n.state.line,r={line:o,ch:n.start},a={line:o,ch:n.end},l=n.state.placeholder,i=n.state.matchedValue,s=e?e(l,i,n.string):c(l&&l.hasOwnProperty("text")?"string"===typeof l.text?l.text:l.text(i):i,l&&l.hasOwnProperty("className")?l.className:"cm-variable");t.markText(r,a,{replacedWith:s})}})},e.prototype.getTokens=function(){var e=this,t=[];return this.instance.getDoc().eachLine(function(n){e.instance.getLineTokens(n.lineNo()).forEach(function(e){return t.push(e)})}),t},e.prototype.getValue=function(){return this.instance.getDoc().getValue()},e.prototype.setValue=function(e){this.instance.getDoc().setValue(e)},e.prototype.onChange=function(e){var t=this;this.instance.on("change",function(){e(t.getValue())})},e}();n.d(t,"a",function(){return A});var d=function(){return(d=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},p=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)l.push(o.value)}catch(i){r={error:i}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return l},A=o.forwardRef(function(e,t){var n=e.value,r=void 0===n?"":n,a=e.disabled,l=e.placeholder,i=e.placeholders,c=e.createReplacementNode,A=e.onChange,m=u(e,["value","disabled","placeholder","placeholders","createReplacementNode","onChange"]),f=o.useRef(null),h=p(o.useState(),2),g=h[0],y=h[1];return o.useEffect(function(){y(new s(f.current,{initialValue:r,disabled:a,placeholder:l,placeholders:i,createReplacementNode:c}))},[]),o.useEffect(function(){A&&g.onChange(function(e){var t=g.getTokens();A(e,t)})},[]),o.useEffect(function(){g&&g.setValue(e.value)},[e.value]),o.useEffect(function(){g&&g.instance.setOption("placeholder",l)},[e.placeholder]),o.useEffect(function(){g&&g.instance.setOption("readOnly",a)},[e.disabled]),o.useImperativeHandle(t,function(){return{forceUpdateEditor:function(){g.setValue(e.value+" "),setTimeout(function(){g.setValue(e.value)},0)}}}),o.createElement("div",d({ref:f},m))});"undefined"!==typeof A&&A&&A===Object(A)&&Object.isExtensible(A)&&Object.defineProperty(A,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReactTemplateEditor",filename:"src\\index.tsx"}})}}]);
//# sourceMappingURL=docz-demos-usage1-index.8f86d8904df674b5e217.js.map